
From: jiebing chen <jiebing.chen@amlogic.com>
Subject: [PATCH 2/2] ASoC: meson: add s4 tohdmitx control

Add support for the hdmitx control glue of the Amlogic S4 SoC family.
This glue links the 3 TDM and 2 SPDIF output interfaces of the SoC to
the related inputs of the Synopsys HDMI controller found in these SoCs.

Signed-off-by: jiebing chen <jiebing.chen@amlogic.com>
---
 .../dts/amlogic/meson-s4-s805x2-aq222.dts     |  8 ++
 arch/arm64/boot/dts/amlogic/meson-s4.dtsi     |  4 +-
 4 files changed, 87 insertions(+), 4 deletions(-)


diff --git a/arch/arm64/boot/dts/amlogic/meson-s4.dtsi b/arch/arm64/boot/dts/amlogic/meson-s4.dtsi
index f9315ae16868..7a4eeb253927 100644
--- a/arch/arm64/boot/dts/amlogic/meson-s4.dtsi
+++ b/arch/arm64/boot/dts/amlogic/meson-s4.dtsi
@@ -1004,7 +1004,7 @@ tdmif_b: audio-controller-1 {
 		compatible = "amlogic,axg-tdm-iface";
 		#sound-dai-cells = <0>;
 		sound-name-prefix = "TDM_B";
-		clocks = <&clkc_audio AUD_CLKID_MST_A_SCLK>,
+		clocks = <&clkc_audio AUD_CLKID_MST_B_SCLK>,
 			 <&clkc_audio AUD_CLKID_MST_B_LRCLK>,
 			 <&clkc_audio AUD_CLKID_MST_B_MCLK>;
 		clock-names = "sclk", "lrclk","mclk";
@@ -1297,7 +1297,7 @@ toacodec: audio-controller@330740 {
 	};
 
 	tohdmitx: audio-controller@330744 {
-		compatible = "amlogic,sm1-tohdmitx",
+		compatible = "amlogic,s4-tohdmitx",
 				 "amlogic,g12a-tohdmitx";
 		reg = <0x0 0x330744 0x0 0x4>;
 		#sound-dai-cells = <1>;
