Patch from MiniMyth2 project

Developed-by: Piotr Oniszczuk <piotr.oniszczuk@gmail.com>
Signed-off-by: Piotr Oniszczuk <piotr.oniszczuk@gmail.com>



diff --speed-large-files --no-dereference --minimal -Naur linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air.dts linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air.dts
--- linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air.dts	2025-11-02 18:24:19.682149037 +0100
+++ linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air.dts	2025-11-02 18:20:47.183605851 +0100
@@ -70,6 +70,19 @@
 			};
 		};
 	};
+
+	openvfd {
+		compatible = "open,vfd";
+		dev_name = "openvfd";
+		openvfd_gpio_clk = <&gpio GPIOA_15 GPIO_ACTIVE_HIGH>;
+		openvfd_gpio_dat = <&gpio GPIOA_14 GPIO_ACTIVE_HIGH>;
+		openvfd_gpio_stb = <&gpio_ao GPIOAO_10 GPIO_ACTIVE_LOW>;
+		vfd_gpio_chip_name = "300b000.pinctrl";
+		openvfd_chars = [04 00 01 02 03];
+		openvfd_dot_bits = [00 01 02 03 04 05 06];
+		openvfd_display_type = <0x02000000>;
+		status = "disabled";
+	};
 };
 
 &arb {
diff --speed-large-files --no-dereference --minimal -Naur linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air-gbit.dts linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air-gbit.dts
--- linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air-gbit.dts	2025-11-02 18:24:19.682149037 +0100
+++ linux-6.17.6/arch/arm64/boot/dts/amlogic/meson-sm1-x96-air-gbit.dts	2025-11-02 18:20:44.550313644 +0100
@@ -70,6 +70,19 @@
 			};
 		};
 	};
+
+	openvfd {
+		compatible = "open,vfd";
+		dev_name = "openvfd";
+		openvfd_gpio_clk = <&gpio GPIOA_15 GPIO_ACTIVE_HIGH>;
+		openvfd_gpio_dat = <&gpio GPIOA_14 GPIO_ACTIVE_HIGH>;
+		openvfd_gpio_stb = <&gpio_ao GPIOAO_10 GPIO_ACTIVE_LOW>;
+		vfd_gpio_chip_name = "300b000.pinctrl";
+		openvfd_chars = [04 00 01 02 03];
+		openvfd_dot_bits = [00 01 02 03 04 05 06];
+		openvfd_display_type = <0x02000000>;
+		status = "disabled";
+	};
 };
 
 &arb {
--

MiniMyth2

