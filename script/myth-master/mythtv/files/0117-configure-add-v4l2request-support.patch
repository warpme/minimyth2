Patch from MiniMyth2 project

Developed-by: Piotr Oniszczuk <piotr.oniszczuk@gmail.com>
Signed-off-by: Piotr Oniszczuk <piotr.oniszczuk@gmail.com>



diff --speed-large-files --no-dereference --minimal -Naur mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/configure mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/configure
--- mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/configure	2025-12-27 18:02:14.463350913 +0100
+++ mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/configure	2025-12-27 18:01:47.143350176 +0100
@@ -137,6 +137,7 @@
   --disable-vbox           disable support for V@Box TV Gateway boxes
   --disable-ceton          disable support for Ceton cards
   --disable-satip          disable support for Sat>IP
+  --enable-v4l2request     enable Video4Linux V4l2-request support
   --disable-v4l2           disable Video4Linux support
   --disable-dvb            disable DVB support
   --dvb-path=HDRLOC        location of directory containing
@@ -1587,6 +1588,7 @@
     vaapi_x11
     v4l2
     v4l2prime
+    v4l2request
     valgrind
     videotoolbox
     vulkan
@@ -2025,6 +2027,7 @@
 enable deprecation_warnings
 enable v4l2
 enable v4l2prime
+disable v4l2request
 enable x11
 disable indevs
 enable taglib
@@ -3810,6 +3813,7 @@
         disable dvb
         disable v4l2
         disable v4l2prime
+        disable v4l2request
         disable x11
         # Workaround compile errors from missing u_int/uint def
         CFLAGS=`echo $CFLAGS | sed 's/-D_POSIX_C_SOURCE=200112//'`
@@ -3854,6 +3858,7 @@
         fi
         disable v4l2
         disable v4l2prime
+        disable v4l2request
         enable  windows
         disable x11
         disable qtdbus
@@ -5996,7 +6001,7 @@
   if enabled drm; then
     echo "DRM Qt integration        ${qtprivateheaders-no}"
   fi
-  echo "Video4Linux codecs        ${v4l2-no} (DRM ${v4l2prime-no})"
+  echo "Video4Linux codecs        ${v4l2-no} (DRM:${v4l2prime-no} v4l2-request:${v4l2request-no})"
   echo "MMAL decoder support      ${mmal-no}"
   echo "OpenGL                    ${opengl-no} (OpenGLES ${opengles-no})"
   echo "EGL support               ${egl-no}"
@@ -6337,6 +6342,10 @@
                                      $MYTHTV_LIST       \
                                      $MYTHTV_CONFIG_LIST \
 
+if enabled v4l2request; then
+    ffopts="$ffopts --enable-v4l2_request --enable-libdrm --enable-libudev"
+fi
+
 
 for opt in $MYTHTV_CONFIG_LIST $USING_LIST; do
     enabled $opt && append CCONFIG "using_$opt"
diff --speed-large-files --no-dereference --minimal -Naur mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/libs/libmythtv/libmythtv.pro mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/libs/libmythtv/libmythtv.pro
--- mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/libs/libmythtv/libmythtv.pro	2025-12-27 18:02:13.996684233 +0100
+++ mythtv-ea3399d8fd33b5d1ae0dedfba780b11c7cead6be/mythtv/libs/libmythtv/libmythtv.pro	2025-12-27 18:00:30.270014792 +0100
@@ -607,6 +607,10 @@
         QMAKE_CXXFLAGS += -isystem /opt/vc/include
     }
 
+    using_v4l2request {
+        DEFINES += USING_V4L2_REQUEST
+    }
+
     using_vdpau:using_x11 {
         HEADERS += decoders/mythvdpaucontext.h   decoders/mythvdpauhelper.h
         SOURCES += decoders/mythvdpaucontext.cpp decoders/mythvdpauhelper.cpp
--

MiniMyth2

